<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YourLanguageMate</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            background: white;
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            max-width: 500px;
            width: 90%;
        }

        .main-menu {
            text-align: center;
        }

        .main-menu h1 {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 24px;
            color: #333;
        }

        .main-menu h2 {
            font-size: 20px;
            margin-bottom: 24px;
            color: #666;
        }

        .language-buttons {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .language-btn {
            padding: 16px;
            font-size: 18px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .language-btn:hover {
            background-color: #0056b3;
        }

        .chat-container {
            display: none;
        }

        .chat-header {
            text-align: center;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 1px solid #eee;
        }

        .chat-header h2 {
            color: #333;
            font-size: 24px;
        }

        .back-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            padding: 8px 16px;
            background-color: #6c757d;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }

        .messages {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 20px;
            padding: 16px;
            background-color: #f8f9fa;
            border-radius: 8px;
        }

        .message {
            margin-bottom: 12px;
            padding: 8px 12px;
            border-radius: 8px;
            max-width: 80%;
            word-wrap: break-word;
        }

        .message.assistant {
            background-color: #e9ecef;
            margin-right: auto;
        }

        .message.user {
            background-color: #d1e7dd;
            margin-left: auto;
            text-align: right;
        }

        .input-form {
            display: flex;
            gap: 8px;
        }

        .message-input {
            flex: 1;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
        }

        .send-btn {
            padding: 12px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }

        .send-btn:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Главное меню -->
        <div id="mainMenu" class="main-menu">
            <h1>YourLanguageMate</h1>
            <h2>Выберите язык для обучения:</h2>
            <div class="language-buttons">
                <button class="language-btn" onclick="selectLanguage('en')">Английский</button>
                <button class="language-btn" onclick="selectLanguage('ru')">Русский</button>
                <button class="language-btn" onclick="selectLanguage('es')">Испанский</button>
            </div>
        </div>

        <!-- Чат -->
        <div id="chatContainer" class="chat-container">
            <button class="back-btn" onclick="showMainMenu()">← Назад</button>
            <div class="chat-header">
                <h2 id="chatTitle">Чат</h2>
            </div>
            <div id="messages" class="messages"></div>
            <form class="input-form" onsubmit="sendMessage(event)">
                <input 
                    type="text" 
                    id="messageInput" 
                    class="message-input" 
                    placeholder="Введите сообщение..."
                    required
                >
                <button type="submit" class="send-btn">Отправить</button>
            </form>
        </div>
    </div>

    <script>
        let selectedLanguage = null;
        let chatMessages = [];

        const testPrompts = {
            en: 'Let\'s start! Please answer: How long have you been learning English? Can you introduce yourself in English?',
            ru: 'Начнем! Пожалуйста, ответьте: Как давно вы изучаете русский язык? Можете представиться по-русски?',
            es: '¡Empecemos! Por favor, responda: ¿Cuánto tiempo lleva aprendiendo español? ¿Puede presentarse en español?'
        };

        const languageNames = {
            en: 'Английский',
            ru: 'Русский',
            es: 'Испанский'
        };

        function selectLanguage(lang) {
            selectedLanguage = lang;
            chatMessages = [
                { role: 'assistant', content: testPrompts[lang] }
            ];
            showChat();
        }

        function showChat() {
            document.getElementById('mainMenu').style.display = 'none';
            document.getElementById('chatContainer').style.display = 'block';
            document.getElementById('chatTitle').textContent = `Чат: ${languageNames[selectedLanguage]}`;
            renderMessages();
        }

        function showMainMenu() {
            document.getElementById('mainMenu').style.display = 'block';
            document.getElementById('chatContainer').style.display = 'none';
            document.getElementById('messageInput').value = '';
        }

        function renderMessages() {
            const messagesContainer = document.getElementById('messages');
            messagesContainer.innerHTML = '';
            
            chatMessages.forEach(msg => {
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${msg.role}`;
                messageDiv.textContent = msg.content;
                messagesContainer.appendChild(messageDiv);
            });
            
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function sendMessage(event) {
            event.preventDefault();
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (!message) return;

            // Добавляем сообщение пользователя
            chatMessages.push({ role: 'user', content: message });
            input.value = '';
            renderMessages();

            // Симуляция ответа ChatGPT
            setTimeout(() => {
                chatMessages.push({ 
                    role: 'assistant', 
                    content: 'Спасибо за ваш ответ! Я помогу вам изучать язык.' 
                });
                renderMessages();
            }, 1000);
        }
    </script>
</body>
</html>
